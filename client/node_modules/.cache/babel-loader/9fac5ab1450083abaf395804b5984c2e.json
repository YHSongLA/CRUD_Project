{"ast":null,"code":"import _slicedToArray from\"C:/Users/Owner/OneDrive/Desktop/MERN072022/mern_exam2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import'bootstrap/dist/css/bootstrap.min.css';import{useState}from'react';import{useNavigate,Link,useParams}from'react-router-dom';import axios from\"axios\";import{useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPet=function EditPet(){// STATE\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),petType=_useState4[0],setPetType=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),skill1=_useState8[0],setSkill1=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),skill2=_useState10[0],setSkill2=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),skill3=_useState12[0],setSkill3=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),errors=_useState14[0],setErrors=_useState14[1];// const [valiadation, setValidation] = useState(true)\nvar _useParams=useParams(),pet_id=_useParams.pet_id;// USE NAVIGATE\nvar navigate=useNavigate();// USE EFFECT AXIOS\nuseEffect(function(){axios.get(\"http://localhost:8000/api/pets/\"+pet_id).then(function(res){console.log(res.data);// DESTRUCTURE RES DATA\nvar _res$data=res.data,name=_res$data.name,petType=_res$data.petType,description=_res$data.description,skill1=_res$data.skill1,skill2=_res$data.skill2,skill3=_res$data.skill3;setName(name);setPetType(petType);setDescription(description);setSkill1(skill1);setSkill2(skill2);setSkill3(skill3);}).catch(function(error){return console.log(error);});},[pet_id]);var updatePet=function updatePet(e){e.preventDefault();var petObj={name:name,petType:petType,description:description,skill1:skill1,skill2:skill2,skill3:skill3};// AXIOS POST ROUTE\naxios.put(\"http://localhost:8000/api/pets/\"+pet_id,petObj).then(function(res){console.log(\"Successfully Created a Pet\",res);navigate(\"/\");setErrors([]);}).catch(function(err){console.log(err);var errorResponse=err.response.data.errors;// Get the errors from err.response.data\nconsole.log(errorResponse);var errorArr=[];// Define a temp error array to push the messages in\nfor(var _i=0,_Object$keys=Object.keys(errorResponse);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];// Loop through all errors and get the messages\nerrorArr.push(errorResponse[key].message);}setErrors(errorArr);});};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-secondary w-100 text-warning\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container p-5\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Update Pet\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",type:\"submit\",className:\"btn btn-outline-warning me-2 float-end\",children:\"Home\"}),errors.map(function(err,index){return/*#__PURE__*/_jsx(\"p\",{children:err},index);}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:updatePet,className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Pet Name:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setName(e.target.value);},value:name,name:\"name\",type:\"text\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Pet Type:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setPetType(e.target.value);},value:petType,name:\"petType\",type:\"text\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Description:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setDescription(e.target.value);},value:description,name:\"description\",type:\"text\",className:\"form-control\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Skill 1:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setSkill1(e.target.value);},value:skill1,name:\"skill1\",type:\"text\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Skill 2:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setSkill2(e.target.value);},value:skill2,name:\"skill2\",type:\"text\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Skill 3:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setSkill3(e.target.value);},value:skill3,name:\"skill3\",type:\"text\",className:\"form-control\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary text-center\",children:\"Update\"})]})]})]})});};export default EditPet;","map":{"version":3,"names":["React","useState","useNavigate","Link","useParams","axios","useEffect","EditPet","name","setName","petType","setPetType","description","setDescription","skill1","setSkill1","skill2","setSkill2","skill3","setSkill3","errors","setErrors","pet_id","navigate","get","then","res","console","log","data","catch","error","updatePet","e","preventDefault","petObj","put","err","errorResponse","response","errorArr","Object","keys","key","push","message","map","index","target","value"],"sources":["C:/Users/Owner/OneDrive/Desktop/MERN072022/mern_exam2/client/src/pages/EditPet.jsx"],"sourcesContent":["import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { useState } from 'react';\r\nimport { useNavigate, Link, useParams } from 'react-router-dom';\r\nimport axios from \"axios\"\r\nimport { useEffect } from 'react';\r\n\r\nconst EditPet = () => {\r\n    // STATE\r\n    const [name, setName] = useState()\r\n    const [petType, setPetType] = useState()\r\n    const [description, setDescription] = useState()\r\n    const [skill1, setSkill1] = useState()\r\n    const [skill2, setSkill2] = useState()\r\n    const [skill3, setSkill3] = useState()\r\n\r\n    const [errors, setErrors] = useState([]);\r\n\r\n    // const [valiadation, setValidation] = useState(true)\r\n\r\n    const {pet_id} = useParams()\r\n\r\n    // USE NAVIGATE\r\n    const navigate = useNavigate()\r\n\r\n\r\n\r\n\r\n    // USE EFFECT AXIOS\r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:8000/api/pets/\" + pet_id)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                // DESTRUCTURE RES DATA\r\n                const {name, petType, description, skill1, skill2, skill3} = res.data\r\n                setName(name)\r\n                setPetType(petType)\r\n                setDescription(description)\r\n                setSkill1(skill1)\r\n                setSkill2(skill2)\r\n                setSkill3(skill3)\r\n            })\r\n            .catch(error => console.log(error))\r\n    }, [pet_id])\r\n\r\n    const updatePet = (e) => {\r\n        e.preventDefault()\r\n        const petObj = {\r\n            name,\r\n            petType,\r\n            description,\r\n            skill1,\r\n            skill2,\r\n            skill3\r\n        }\r\n        // AXIOS POST ROUTE\r\n        axios.put(\"http://localhost:8000/api/pets/\" + pet_id, petObj)\r\n            .then(res => {\r\n                console.log(\"Successfully Created a Pet\", res)\r\n                navigate(\"/\")\r\n                setErrors([])\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                const errorResponse = err.response.data.errors; // Get the errors from err.response.data\r\n                console.log(errorResponse)\r\n                const errorArr = []; // Define a temp error array to push the messages in\r\n                for (const key of Object.keys(errorResponse)) { // Loop through all errors and get the messages\r\n                    errorArr.push(errorResponse[key].message)\r\n                }\r\n            setErrors(errorArr)\r\n            })\r\n    }\r\n\r\n  return (\r\n    <div className='bg-secondary w-100 text-warning'>\r\n        <div className='container p-5'>\r\n        <h1>Update Pet</h1>\r\n        <Link to={\"/\"} type='submit' className='btn btn-outline-warning me-2 float-end'>Home</Link>\r\n\t\t{errors.map((err, index) => <p key={index}>{err}</p>)}\r\n\t\t<form onSubmit={updatePet} className=\"d-flex justify-content-between align-items-center\">\r\n            <div className=\"left\">\r\n                <div className=\"row mb-3\">\r\n                    <label className=\"col-sm-2 col-form-label\">Pet Name:</label>\r\n                    <input onChange={(e) => setName(e.target.value)} value={name} name=\"name\" type=\"text\" className=\"form-control\"/>\r\n                    \r\n                </div>\r\n                <div className=\"row mb-3\">\r\n                    <label className=\"col-sm-2 col-form-label\">Pet Type:</label>\r\n                    <input onChange={(e) => setPetType(e.target.value)} value={petType} name='petType' type=\"text\" className=\"form-control\"/>\r\n                    \r\n                </div>\r\n                <div className=\"row mb-3\">\r\n                    <label className=\"col-sm-2 col-form-label\">Description:</label>\r\n                    <input onChange={(e) => setDescription(e.target.value)} value={description} name='description' type=\"text\" className=\"form-control\"/>\r\n                </div>\r\n            </div>\r\n            <div className=\"right\">\r\n                <div className=\"row mb-3\">\r\n                    <label className=\"col-sm-2 col-form-label\">Skill 1:</label>\r\n                    <input onChange={(e) => setSkill1(e.target.value)} value={skill1} name=\"skill1\" type=\"text\" className=\"form-control\"/>\r\n                    \r\n                </div>\r\n                <div className=\"row mb-3\">\r\n                    <label className=\"col-sm-2 col-form-label\">Skill 2:</label>\r\n                    <input onChange={(e) => setSkill2(e.target.value)} value={skill2} name=\"skill2\" type=\"text\" className=\"form-control\"/>\r\n                </div>\r\n                <div className=\"row mb-3\">\r\n                    <label className=\"col-sm-2 col-form-label\">Skill 3:</label>\r\n                    <input onChange={(e) => setSkill3(e.target.value)} value={skill3} name=\"skill3\" type=\"text\" className=\"form-control\"/>\r\n                </div>\r\n\t\t\t    <button type=\"submit\" className=\"btn btn-primary text-center\">Update</button>\r\n            </div>\r\n\t\t</form>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditPet"],"mappings":"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"},"metadata":{},"sourceType":"module"}
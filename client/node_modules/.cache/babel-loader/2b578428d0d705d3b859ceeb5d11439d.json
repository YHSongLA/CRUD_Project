{"ast":null,"code":"import _slicedToArray from\"C:/Users/Owner/OneDrive/Desktop/MERN072022/mern_exam2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useEffect}from'react';import{useState}from'react';import{useParams,Link}from'react-router-dom';import axios from'axios';import'bootstrap/dist/css/bootstrap.min.css';// import Typekit from 'typekit';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PetDetail=function PetDetail(){// STATE\nvar _useState=useState({}),_useState2=_slicedToArray(_useState,2),pet=_useState2[0],setPet=_useState2[1];// const [likes, setLikes] = useState(0)\nvar _useParams=useParams(),pet_id=_useParams.pet_id;// STATE REFRESH\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),submitted=_useState4[0],setSubmitted=_useState4[1];// CONST REFRESH EMPTY ARROW FUNCTION\nvar refresh=function refresh(){setSubmitted(!submitted);};// USE EFFECT AXIOS\nuseEffect(function(){axios.get(\"http://localhost:8000/api/pets/\"+pet_id).then(function(res){console.log(res.data);setPet(res.data);}).catch(function(error){return console.log(error);});},[submitted,pet_id]);// DELETE FUNCTION\nvar destroyPet=function destroyPet(pet_id){console.log(pet_id);axios.delete(\"http://localhost:8000/api/pets/\"+pet_id).then(function(res){return refresh();}).catch(function(error){return console.log(error);});};// UPDATE LIKES\nvar incrementLikes=function incrementLikes(){axios.put(\"http://localhost:8000/api/pets/likes/\"+pet_id,pet).then(function(res){console.log(res.data);refresh();}).catch(function(error){return console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-5\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Pet Shelter\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",type:\"submit\",className:\"btn btn-outline-warning me-2 float-end\",children:\"Home\"}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Details about \",pet.name]}),/*#__PURE__*/_jsxs(Link,{to:\"/\",onClick:function onClick(){return destroyPet(pet._id);},type:\"submit\",className:\"btn btn-outline-danger float-end\",children:[\"Adopt \",pet.name]}),/*#__PURE__*/_jsx(\"div\",{className:\"card w-100 container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[\"Pet Type: \",pet.petType]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"card-subtitle mb-2\",children:[\"Pet Description: \",pet.description]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Skills: \",pet.skill1,\", \",pet.skill2,\", \",pet.skill3]}),/*#__PURE__*/_jsxs(\"button\",{onClick:incrementLikes,className:\"btn btn-outline-success\",children:[\"Like \",pet.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Likes: \",pet.likes]})]})})]});};export default PetDetail;","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","axios","PetDetail","pet","setPet","pet_id","submitted","setSubmitted","refresh","get","then","res","console","log","data","catch","error","destroyPet","delete","incrementLikes","put","name","_id","petType","description","skill1","skill2","skill3","likes"],"sources":["C:/Users/Owner/OneDrive/Desktop/MERN072022/mern_exam2/client/src/pages/PetDetail.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { useParams, Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n// import Typekit from 'typekit';\r\n\r\nconst PetDetail = () => {\r\n    // STATE\r\n    const [pet, setPet] = useState({})\r\n    // const [likes, setLikes] = useState(0)\r\n    \r\n    const {pet_id} = useParams()\r\n\r\n    // STATE REFRESH\r\n    const [submitted, setSubmitted] = useState(false)\r\n\r\n\r\n    // CONST REFRESH EMPTY ARROW FUNCTION\r\n    const refresh = () => {\r\n        setSubmitted(!submitted)\r\n    }\r\n\r\n    // USE EFFECT AXIOS\r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:8000/api/pets/\" + pet_id)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setPet(res.data)\r\n            })\r\n            .catch(error => console.log(error))\r\n    }, [submitted, pet_id])\r\n\r\n    // DELETE FUNCTION\r\n    const destroyPet = (pet_id) => {\r\n        console.log(pet_id)\r\n        axios.delete(\"http://localhost:8000/api/pets/\" + pet_id)\r\n            .then(res => refresh())\r\n            .catch(error => console.log(error))\r\n    }\r\n\r\n    // UPDATE LIKES\r\n    const incrementLikes = () => {\r\n        axios.put(\"http://localhost:8000/api/pets/likes/\" + pet_id, pet)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                refresh()\r\n            })\r\n            .catch(error => console.log(error))\r\n    }\r\n\r\n  return (\r\n    <div className='p-5'>\r\n        <h1>Pet Shelter</h1>\r\n        <Link to={\"/\"} type='submit' className='btn btn-outline-warning me-2 float-end'>Home</Link>\r\n        <h4>Details about {pet.name}</h4>\r\n        <Link to={\"/\"} onClick={() => destroyPet(pet._id)} type=\"submit\" className='btn btn-outline-danger float-end'>Adopt {pet.name}</Link>\r\n        <div className=\"card w-100 container\">\r\n            <div className=\"card-body\">\r\n                <h5 className=\"card-title\">Pet Type: {pet.petType}</h5>\r\n                <h6 className=\"card-subtitle mb-2\">Pet Description: {pet.description}</h6>\r\n                <p className=\"card-text\">\r\n                    Skills: {pet.skill1}, {pet.skill2}, {pet.skill3}\r\n                </p>\r\n                <button onClick={incrementLikes} className='btn btn-outline-success'>Like {pet.name}</button>\r\n                <p>Likes: {pet.likes}</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PetDetail"],"mappings":"kJAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,SAAT,CAAoBC,IAApB,KAAgC,kBAAhC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAO,sCAAP,CACA;wFAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,EAAM,CACpB;AACA,cAAsBJ,QAAQ,CAAC,EAAD,CAA9B,wCAAOK,GAAP,eAAYC,MAAZ,eACA;AAEA,eAAiBL,SAAS,EAA1B,CAAOM,MAAP,YAAOA,MAAP,CAEA;AACA,eAAkCP,QAAQ,CAAC,KAAD,CAA1C,yCAAOQ,SAAP,eAAkBC,YAAlB,eAGA;AACA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CAClBD,YAAY,CAAC,CAACD,SAAF,CAAZ,CACH,CAFD,CAIA;AACAT,SAAS,CAAC,UAAM,CACZI,KAAK,CAACQ,GAAN,CAAU,kCAAoCJ,MAA9C,EACKK,IADL,CACU,SAAAC,GAAG,CAAI,CACTC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACAV,MAAM,CAACO,GAAG,CAACG,IAAL,CAAN,CACH,CAJL,EAKKC,KALL,CAKW,SAAAC,KAAK,QAAIJ,QAAO,CAACC,GAAR,CAAYG,KAAZ,CAAJ,EALhB,EAMH,CAPQ,CAON,CAACV,SAAD,CAAYD,MAAZ,CAPM,CAAT,CASA;AACA,GAAMY,WAAU,CAAG,QAAbA,WAAa,CAACZ,MAAD,CAAY,CAC3BO,OAAO,CAACC,GAAR,CAAYR,MAAZ,EACAJ,KAAK,CAACiB,MAAN,CAAa,kCAAoCb,MAAjD,EACKK,IADL,CACU,SAAAC,GAAG,QAAIH,QAAO,EAAX,EADb,EAEKO,KAFL,CAEW,SAAAC,KAAK,QAAIJ,QAAO,CAACC,GAAR,CAAYG,KAAZ,CAAJ,EAFhB,EAGH,CALD,CAOA;AACA,GAAMG,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CACzBlB,KAAK,CAACmB,GAAN,CAAU,wCAA0Cf,MAApD,CAA4DF,GAA5D,EACKO,IADL,CACU,SAAAC,GAAG,CAAI,CACTC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACAN,OAAO,GACV,CAJL,EAKKO,KALL,CAKW,SAAAC,KAAK,QAAIJ,QAAO,CAACC,GAAR,CAAYG,KAAZ,CAAJ,EALhB,EAMH,CAPD,CASF,mBACE,aAAK,SAAS,CAAC,KAAf,wBACI,mCADJ,cAEI,KAAC,IAAD,EAAM,EAAE,CAAE,GAAV,CAAe,IAAI,CAAC,QAApB,CAA6B,SAAS,CAAC,wCAAvC,kBAFJ,cAGI,uCAAmBb,GAAG,CAACkB,IAAvB,GAHJ,cAII,MAAC,IAAD,EAAM,EAAE,CAAE,GAAV,CAAe,OAAO,CAAE,yBAAMJ,WAAU,CAACd,GAAG,CAACmB,GAAL,CAAhB,EAAxB,CAAmD,IAAI,CAAC,QAAxD,CAAiE,SAAS,CAAC,kCAA3E,oBAAqHnB,GAAG,CAACkB,IAAzH,GAJJ,cAKI,YAAK,SAAS,CAAC,sBAAf,uBACI,aAAK,SAAS,CAAC,WAAf,wBACI,YAAI,SAAS,CAAC,YAAd,wBAAsClB,GAAG,CAACoB,OAA1C,GADJ,cAEI,YAAI,SAAS,CAAC,oBAAd,+BAAqDpB,GAAG,CAACqB,WAAzD,GAFJ,cAGI,WAAG,SAAS,CAAC,WAAb,sBACarB,GAAG,CAACsB,MADjB,MAC2BtB,GAAG,CAACuB,MAD/B,MACyCvB,GAAG,CAACwB,MAD7C,GAHJ,cAMI,gBAAQ,OAAO,CAAER,cAAjB,CAAiC,SAAS,CAAC,yBAA3C,mBAA2EhB,GAAG,CAACkB,IAA/E,GANJ,cAOI,+BAAWlB,GAAG,CAACyB,KAAf,GAPJ,GADJ,EALJ,GADF,CAmBD,CA/DD,CAiEA,cAAe1B,UAAf"},"metadata":{},"sourceType":"module"}